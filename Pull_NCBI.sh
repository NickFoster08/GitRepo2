#!/bin/bash
#SBATCH --job-name=USA_CDC_Bov      # Job name
#SBATCH --partition=batch                # Partition (queue) name
#SBATCH --ntasks=1                       # Run on a single CPU
#SBATCH --cpus-per-task=8                # Number of cores per task
#SBATCH --mem=80gb                       # Job memory request
#SBATCH --time=00-12:00:00               # Time limit hrs:min:sec
#SBATCH --output=/scratch/nf26742/scratch/log.%j.out  # Standard output log
#SBATCH --error=/scratch/nf26742/scratch/log.%j.err   # Standard error log

#SBATCH --mail-type=END,FAIL             # Mail events (NONE, BEGIN, END, FAIL, ALL)
#SBATCH --mail-user=nf26742@uga.edu      # Where to send mail

# Specify output directory
OUTDIR="/scratch/nf26742/USA_Bovis_Human"

# Create output directory if it doesn't exist
mkdir -p "$OUTDIR"

# Load SRA tools
module load SRA-Toolkit/3.0.3-gompi-2022a

# List of SRR accessions
accessions=(
SRR33840409
SRR33840586
SRR33840601
SRR33840628
SRR33840662
SRR33840668
SRR33564685
SRR33564791
SRR33564840
SRR33568677
SRR33568717
SRR33568750
SRR33568754
SRR33568851
SRR33568982
SRR33568991
SRR33569028
SRR33569053
SRR33559383
SRR33561010
SRR33561021
SRR33561070
SRR33561085
SRR33561100
SRR33935876
SRR33935880
SRR33936098
SRR33936217
SRR33936243
SRR33936251
SRR33936301
SRR33938646
SRR33938719
SRR33938755
SRR33938764
SRR33938802
SRR33938813
SRR33938828
SRR33938848
SRR33938874
SRR33938915
SRR33938940
SRR33938950
SRR33938956
SRR33938997
SRR33939082
SRR33939086
SRR33942857
SRR33942862
SRR33942988
SRR33943094
SRR33812817
SRR33812828
SRR33812850
SRR33812857
SRR33812965
SRR33813050
SRR33815175
SRR33815246
SRR33815356
SRR33815364
SRR33815492
SRR33815511
SRR33817217
SRR33817229
SRR33817264
SRR33817302
SRR33817333
SRR33817350
SRR33817387
SRR33817423
SRR33817425
SRR33817538
SRR33817563
SRR34109031
SRR33600783
SRR33600843
SRR33600895
SRR33600990
SRR33601003
SRR33601104
SRR33601118
SRR33601222
SRR33605100
SRR33605150
SRR33605413
SRR33629175
SRR33629183
SRR33631017
SRR33631113
SRR33631215
SRR33631243
SRR33631250
SRR33631260
SRR33631300
SRR33643000
SRR33643012
SRR33643035
SRR33643180
SRR33643263
SRR33643349
SRR33643397
SRR33643994
SRR33644127
SRR33644131
SRR33644315
SRR33644334
SRR33645657
SRR33645693
SRR33645747
SRR33645845
SRR33645880
SRR33645890
SRR33645930
SRR33646001
SRR33646010
SRR33646017
SRR33646049
SRR33646058
SRR33646095
SRR33628757
SRR33628771
SRR33628783
SRR33628910
SRR33628912
SRR33628917
SRR33628919
SRR33628977
SRR33629123
SRR33584861
SRR33584953
SRR33584987
SRR33584998
SRR33585190
SRR33585211
SRR33585214
SRR33585250
SRR33585278
SRR33715083
SRR33715134
SRR33715176
SRR33715179
SRR33715230
SRR33715318
SRR33715334
SRR33715361
SRR33715432
SRR33715435
SRR33715443
SRR33715483
SRR33715505
SRR33715512
SRR33715530
SRR33719803
SRR33719827
SRR33720008
SRR33720029
SRR33720044
SRR33720074
SRR33720117
SRR33720118
SRR33720128
SRR33720183
SRR33680081
SRR33681404
SRR33681505
SRR33681510
SRR33681525
SRR33681592
SRR33685016
SRR33685121
SRR33685344
SRR33685375
SRR33748666
SRR33748694
SRR33748753
SRR33748796
SRR33748840
SRR33748879
SRR33748979
SRR33750181
SRR33750201
SRR33750231
SRR33750258
SRR33750275
SRR33750307
SRR33750419
SRR33750491
SRR33750544
SRR33750579
SRR33750615
SRR33752732
SRR33752837
SRR33752868
SRR33752908
SRR33752923
SRR33753046
SRR33753071
SRR33753104
SRR33753131
SRR33753149
SRR33753151
SRR33857410
SRR33857440
SRR33857442
SRR33857453
SRR33857489
SRR33857494
SRR33857531
SRR33868568
SRR33868768
SRR33868919
SRR33868923
SRR33868975
SRR33869062
SRR33818441
SRR33818518
SRR33818536
SRR33818626
SRR33818719
SRR33969439
SRR33969450
SRR33969476
SRR33969498
SRR33969543
SRR33969557
SRR33969576
SRR33969577
SRR33969596
SRR33969635
SRR33969644
SRR34008693
SRR34010280
SRR34010281
SRR34010315
SRR34010429
SRR34010568
SRR34010572
SRR34011807
SRR34011812
SRR34011871
SRR34011925
SRR34011980
SRR34012035
SRR34012153
SRR34003924
SRR34003979
SRR34003981
SRR34004044
SRR34004107
SRR33712825
SRR33712835
SRR33713001
SRR33713011
SRR33713021
SRR33713060
SRR33713138
SRR33713142
SRR33680080
SRR33680111
SRR33680185
SRR33680216
SRR33681606
SRR33685015
SRR33685131
SRR33685153
SRR33685158
SRR33685185
SRR33665347
SRR33665394
SRR33665434
SRR33665506
SRR33665556
SRR33665635
SRR33665642
SRR33665650
SRR33667780
SRR33667818
SRR33667916
SRR33667965
SRR33668050
SRR33669307
SRR33669326
SRR33669375
SRR33669471
SRR33669661
SRR33890961
SRR33890988
SRR33891001
SRR33891008
SRR33891027
SRR33891064
SRR33891083
SRR33891090
SRR33891095
SRR33891113
SRR33891149
SRR33891150
SRR33891198
SRR33891238
SRR33891259
SRR33891311
SRR33891341
SRR33891386
SRR33891423
SRR33894613
SRR33894636
SRR33894668
SRR33894727
SRR33894778
SRR33894782
SRR33894868
SRR33894935
SRR33894945
SRR33895016
SRR33842958
SRR33842968
SRR33842980
SRR33842987
SRR33843024
SRR33843038
SRR33843118
SRR33843148
SRR33843161
SRR33843209
SRR33843268
SRR33843275
SRR33843314
SRR33843354
SRR33843429
SRR33846813
SRR33846833
SRR33846868
SRR33847028
SRR33790592
SRR33790636
SRR33790657
SRR33790660
SRR33790729
SRR33790876
SRR33790882
SRR33790927
SRR33790969
SRR33792752
SRR33792850
SRR33792891
SRR33792892
SRR33792962
SRR33793061
SRR33793063
SRR33793108
SRR33793213
SRR33828861
SRR33829055
SRR33829117
SRR33831149
SRR33831178
SRR33831200
SRR33831215
SRR33831224
SRR33831238
SRR33831310
SRR33831358
SRR33831383
SRR33831480
SRR33831503
SRR33831538
SRR33831564
SRR33912281
SRR33912290
SRR33912379
SRR33912384
SRR33912406
SRR33912519
SRR33912561
SRR33653761
SRR33653823
SRR33653875
SRR33653904
SRR33653906
SRR33653930
SRR33654031
SRR33654039
SRR33654098
SRR33654187
SRR33654191
SRR33654223
SRR33655744
SRR33655771
SRR33655959
SRR33656034
SRR33657464
SRR33657527
SRR33657731
SRR33657855
SRR33657890
SRR33771613
SRR33771617
SRR33771647
SRR33771651
SRR33771712
SRR33771756
SRR33771769
SRR33771771
SRR33771803
SRR33771834
SRR33771845
SRR33771857
SRR33818352
SRR33818364
SRR33715050
SRR33715075
SRR33715508
SRR33732652
SRR33732690
SRR33732763
SRR33732806
SRR33732912
SRR33732938
SRR33733024
SRR33733051
SRR33735836
SRR33735837
SRR33735848
SRR33735853
SRR33735906
SRR33735963
SRR33735974
SRR33735981
SRR33735996
SRR33736012
SRR33736025
SRR33736114
SRR33736125
SRR33736140
SRR33736141
SRR33736234
SRR33736248
SRR33736299
SRR33738201
SRR33738334
SRR33738460
SRR33672140
SRR33672158
SRR33672217
SRR33672222
SRR33672277
SRR33672350
SRR33672389
SRR33672426
SRR33672431
SRR33672433
SRR33763274
SRR33763311
SRR33763400
SRR33766171
SRR33766555
SRR33589120
SRR33589207
SRR33589213
SRR33589301
SRR33588992
SRR33589253
SRR33763043
SRR33763152
SRR33763222
SRR33763225
SRR33763227
SRR33763518
SRR33766104
SRR33766252
SRR33766259
SRR33766323
SRR33766331
SRR33766360
SRR33766389
SRR33766461
SRR33766477
SRR33953295
SRR33953337
SRR33953383
SRR33953393
SRR33953397
SRR33953427
SRR33953441
SRR33953444
SRR33953502
SRR33953515
SRR33953560
SRR33953596
SRR33953641
SRR33953704
SRR33953718
SRR33953722
SRR33956242
SRR33956282
SRR33956291
SRR33956371
SRR33956409
SRR33956430
SRR33956494
SRR33956530
SRR33956569
SRR33956619
SRR33956655
SRR33956724
SRR33959865
SRR33959965
SRR33960027
SRR33960113
SRR33960133
SRR33960162
SRR33960172
SRR33960182
SRR33914426
SRR33914465
SRR33914527
SRR33914535
SRR33914571
SRR33914621
SRR33914654
SRR33914697
SRR33917455
SRR33917463
SRR33917502
SRR33917507
SRR33917524
SRR33917587
SRR33917657
SRR33917662
SRR33917685
SRR33917812
SRR33917864
SRR33917889
)

for srr in "${accessions[@]}"; do
    echo "üîÑ Downloading $srr from NCBI"

    fasterq-dump "$srr" -O "$OUTDIR" --threads 8
    if [[ $? -eq 0 ]]; then
        echo "‚úÖ Successfully downloaded and converted $srr"
    else
        echo "‚ö†Ô∏è  NCBI failed"
    fi
done
